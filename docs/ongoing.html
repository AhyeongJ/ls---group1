<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.555">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="이태현">
<meta name="dcterms.date" content="2024-07-17">

<title>TEAM_What-is-the-dinner-menu - 전통시장 점포 규모와 인구비율에 관한 분석</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">TEAM_What-is-the-dinner-menu</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentation 0.html"> 
<span class="menu-text">presentation 0</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./presentation1.html"> 
<span class="menu-text">presentation 1</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#분석-목적" id="toc-분석-목적" class="nav-link active" data-scroll-target="#분석-목적">분석 목적</a></li>
  <li><a href="#점포수-크기에-따른-연령층-확인하기" id="toc-점포수-크기에-따른-연령층-확인하기" class="nav-link" data-scroll-target="#점포수-크기에-따른-연령층-확인하기">점포수 크기에 따른 연령층 확인하기</a></li>
  <li><a href="#이전-데이터-불러오기" id="toc-이전-데이터-불러오기" class="nav-link" data-scroll-target="#이전-데이터-불러오기">이전 데이터 불러오기</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">전통시장 점포 규모와 인구비율에 관한 분석</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>이태현 </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 17, 2024</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="분석-목적" class="level1">
<h1>분석 목적</h1>
<p>전통시장 홍보 목적 가설 : 만약 인구가 많아도 점포수가 적으면 홍보 필요성이 생긴다. 여행 루트에 전통시장을 추가?</p>
<p>2024년에 보도된 <a href="https://m.thesegye.com/news/view/1065580969734925">세계타임즈</a>에서 KB국민카드의 전통시장 카드 소비 데이터 분석을 볼 수 있습니다. 전통시장의 연령별 매출 비중에서 40%는 60대 이상에서 발생되었습니다. 50대 26%, 40대 17%, 30대 10%, 20대 7%로 연령대가 높을수록 매출 비중이 높게 나타났습니다.</p>
<p>시장은 인구가 많은 곳에 분포되어 있는데, 전통시장 또한 단순히 인구가 많은 곳이 점포수가 많은지? 주 고객층인 60대 이상이 많은 지역에 점포수가 많은지? 알고 싶었다.</p>
<p>2015년 기준으로 60대 이상 비율이 높은 행정구역에 점포수가 많이 분포되어 있는지 분석하기. 이를 바탕으로 60대 비율이 적고, 인구가 많은 수도권, 광역시에 점포수가 많은지? 60대 이상 비율이 높고, 인구가 적은 구역에 점포수가 많은지 비교하기.</p>
<section id="나이-나누기" class="level4">
<h4 class="anchored" data-anchor-id="나이-나누기">나이 나누기</h4>
<p><code>0~19세 = age_under_20</code></p>
<p><code>20~59세 = age_2050</code></p>
<p><code>60~100세 이상 = age_over_60</code></p>
<p>한국은 공공기관 및 일부 기업이 60세로 정년으로 두고 있기 때문에 위와 같이 노년의 기준을 60세 이상으로 정했습니다. 미국과 유럽은 60~65세 사이를 정년으로 두고 있습니다. 그리고</p>
</section>
</section>
<section id="점포수-크기에-따른-연령층-확인하기" class="level1">
<h1>점포수 크기에 따른 연령층 확인하기</h1>
<div id="86fd8473" class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="년-12월-기준-인구조사-파일-불러오기" class="level4">
<h4 class="anchored" data-anchor-id="년-12월-기준-인구조사-파일-불러오기">2015년 12월 기준 인구조사 파일 불러오기</h4>
<div id="61426c12" class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> pd.read_excel(<span class="st">'data/pop_2015.xlsx'</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> pd.read_excel(<span class="st">'data/traditionalmarket.xlsx'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>pop</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>pop.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="원본-숫자-안에-를-없애기-문자열을-숫자열로-바꾸기" class="level4">
<h4 class="anchored" data-anchor-id="원본-숫자-안에-를-없애기-문자열을-숫자열로-바꾸기">원본 숫자 안에 , 를 없애기 (문자열을 숫자열로 바꾸기)</h4>
<div id="cc31ebd9" class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="bu">type</span>(pop)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>pop.shape</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>pop</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>pop.iloc[:<span class="op">-</span><span class="dv">1</span>, <span class="dv">1</span>:].<span class="bu">str</span>.replace(<span class="st">","</span>,<span class="st">''</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="71b4e068" class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>pop.loc[<span class="dv">1</span>:<span class="dv">18</span>,<span class="dv">1</span>:<span class="dv">14</span>] <span class="op">=</span> subset</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>pop <span class="op">=</span> pop.iloc[<span class="dv">0</span>:<span class="dv">18</span>,<span class="dv">0</span>:<span class="dv">14</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>pop</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="각-지역마다-연령층-비율-계산하기" class="level4">
<h4 class="anchored" data-anchor-id="각-지역마다-연령층-비율-계산하기">각 지역마다 연령층 비율 계산하기</h4>
<div id="5c7ee1b6" class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>pop_서울 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">1</span>]</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>pop_부산 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">2</span>]</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>pop_대구 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">3</span>]</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>pop_인천 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">4</span>]</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>pop_광주 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">5</span>]</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>pop_대전 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">6</span>]</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>pop_울산 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">7</span>]</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>pop_세종 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">8</span>]</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>pop_경기 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">9</span>]</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>pop_강원 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">10</span>]</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>pop_충북 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">11</span>]</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>pop_충남 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">12</span>]</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>pop_전북 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">13</span>]</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>pop_전남 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">14</span>]</span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>pop_경북 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">15</span>]</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>pop_경남 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">16</span>]</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>pop_제주 <span class="op">=</span> pop[<span class="st">'총 인구수'</span>][<span class="dv">17</span>]</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>서울_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_서울<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>부산_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_부산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>대구_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대구<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>인천_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_인천<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>광주_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_광주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>대전_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대전<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>울산_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_울산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>세종_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_세종<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>경기_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경기<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>강원_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_강원<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>충북_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>충남_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>전북_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>전남_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>경북_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>경남_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>제주_유소년_비율 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">3</span>:<span class="dv">5</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_제주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>서울_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_서울 <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>부산_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_부산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>대구_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대구<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>인천_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_인천<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>광주_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_광주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>대전_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대전<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>울산_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_울산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>세종_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_세종<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>경기_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경기<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>강원_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_강원<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>충북_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>충남_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>전북_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>전남_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>경북_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>경남_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>제주_성인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">5</span>:<span class="dv">9</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_제주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>서울_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">1</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_서울 <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>부산_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">2</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_부산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>대구_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">3</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대구<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>인천_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">4</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_인천<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>광주_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">5</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_광주<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>대전_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">6</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_대전<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>울산_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">7</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_울산<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>세종_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">8</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_세종<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>경기_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">9</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경기<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>강원_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">10</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_강원<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>충북_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">11</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>충남_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">12</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_충남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>전북_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">13</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>전남_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">14</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_전남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a>경북_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">15</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경북<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>경남_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">16</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_경남<span class="op">*</span> <span class="dv">100</span></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>제주_노인_비율 <span class="op">=</span> (pop.iloc[<span class="dv">17</span>,<span class="dv">9</span>:<span class="dv">14</span>].<span class="bu">sum</span>()) <span class="op">/</span> pop_제주<span class="op">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="인구-비율-dataframe-만들기" class="level4">
<h4 class="anchored" data-anchor-id="인구-비율-dataframe-만들기">인구 비율 DataFrame 만들기</h4>
<div id="9eb9012e" class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>pop_ratio <span class="op">=</span> pd.DataFrame({ \ </span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>            <span class="st">'region'</span> <span class="op">=</span> [<span class="st">'서울'</span>, <span class="st">'부산'</span>, <span class="st">'대구'</span>, <span class="st">'인천'</span>, <span class="st">'광주'</span>, <span class="st">'대전'</span>, <span class="st">'울산'</span>, <span class="st">'세종'</span>, <span class="st">'경기도'</span>, <span class="st">'강원도'</span>,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                        <span class="st">'충청북도'</span>, <span class="st">'충청남도'</span>, <span class="st">'전라북도'</span>, <span class="st">'전라남도'</span>, <span class="st">'경상북도'</span>, <span class="st">'경상남도'</span>, <span class="st">'제주도'</span>],</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>            <span class="st">'유소년비율'</span> <span class="op">=</span> [서울_유소년_비율, 부산_유소년_비율, 대구_유소년_비율, 인천_유소년_비율, 광주_유소년_비율, 대전_유소년_비율, 울산_유소년_비율, 세종_유소년_비율, 경기_유소년_비율, 강원_유소년_비율,</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>충북_유소년_비율, 충남_유소년_비율, 전북_유소년_비율, 전남_유소년_비율, 경북_유소년_비율, 경남_유소년_비율,</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>제주_유소년_비율], </span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>        : [서울_유소년_비율, 서울_성인_비율, 서울_노인_비율],</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>        : [부산_유소년_비율, 부산_성인_비율, 부산_노인_비율],</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>        : [대구_유소년_비율, 대구_성인_비율, 대구_노인_비율],</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>        : [인천_유소년_비율, 인천_성인_비율, 인천_노인_비율],</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        : [광주_유소년_비율, 광주_성인_비율, 광주_노인_비율],</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        : [대전_유소년_비율, 대전_성인_비율, 대전_노인_비율],</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>        : [울산_유소년_비율, 울산_성인_비율, 울산_노인_비율],</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>        : [세종_유소년_비율, 세종_성인_비율, 세종_노인_비율],</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>       : [경기_유소년_비율, 경기_성인_비율, 경기_노인_비율],</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>       : [강원_유소년_비율, 강원_성인_비율, 강원_노인_비율],</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>      : [충북_유소년_비율, 충북_성인_비율, 충북_노인_비율],</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>      : [충남_유소년_비율, 충남_성인_비율, 충남_노인_비율],</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>      : [전북_유소년_비율, 전북_성인_비율, 전북_노인_비율],</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>      : [전남_유소년_비율, 전남_성인_비율, 전남_노인_비율],</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>      : [경북_유소년_비율, 경북_성인_비율, 경북_노인_비율],</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>      : [경남_유소년_비율, 경남_성인_비율, 경남_노인_비율],</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>       : [제주_유소년_비율, 제주_성인_비율, 제주_노인_비율]</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>pop_ratio.index <span class="op">=</span> [<span class="st">'age_under_20'</span>,<span class="st">'age_2050'</span>,<span class="st">'age_over_60'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>pivot 만들기</p>
<div id="7966ffc2" class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>pop_ratio_new <span class="op">=</span> pop_ratio.pivot(index <span class="op">=</span> <span class="st">")</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="이전-데이터-불러오기" class="level1">
<h1>이전 데이터 불러오기</h1>
<div id="254114ed" class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터 불러오기</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>market <span class="op">=</span> pd.read_excel(<span class="st">"data/traditionalmarket.xlsx"</span>)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="co"># 분석을 위한 복사본 만들기</span></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> market.copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="4172610d" class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 엑셀의 변수 한글을 영어로 rename</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> market2.rename(columns <span class="op">=</span> {<span class="st">"시장명"</span>              : <span class="st">"market_name"</span>, </span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"시장유형"</span>            : <span class="st">"type"</span>,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"소재지도로명주소"</span>    : <span class="st">"adress_road"</span>,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"시장개설주기"</span>        : <span class="st">"open_period"</span>,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"소재지지번주소"</span>      : <span class="st">"address_old"</span>,</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"점포수"</span>              : <span class="st">"market_count"</span>,</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"사용가능상품권"</span>      : <span class="st">"certificate"</span>,</span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"공중화장실 보유여부"</span> :<span class="st">"public_toilet"</span>,</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"주차장 보유여부"</span>     : <span class="st">"parking_lot"</span>,</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"개설년도"</span>            : <span class="st">"year"</span>,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>                                    <span class="st">"데이터기준일자"</span>      : <span class="st">"data_date"</span>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2f2dfc7d" class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 데이터의 정보 확인하기</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>market2.describe()</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">"public_toilet"</span>].info()</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">"parking_lot"</span>].info()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">'market_count'</span>].describe()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="b4b2bb1a" class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 점포수에 따른 규모 크기를 설명해주는 변수 만들기</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>market2 <span class="op">=</span> market2.assign(market_scale <span class="op">=</span> np.where(market2[<span class="st">"market_count"</span>] <span class="op">&gt;=</span> <span class="dv">134</span>, <span class="st">"large"</span>, </span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>                                        np.where(market2[<span class="st">"market_count"</span>] <span class="op">&gt;=</span> <span class="dv">50</span>, <span class="st">"medium"</span>, <span class="st">"small"</span>)))</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 편의시설의 유무에 따른 레벨링 하기</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">'level'</span>] <span class="op">=</span> np.where((market2[<span class="st">'public_toilet'</span>] <span class="op">==</span> <span class="st">'Y'</span>) <span class="op">&amp;</span> (market2[<span class="st">'parking_lot'</span>] <span class="op">==</span> <span class="st">'Y'</span>), <span class="st">'high'</span>, </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>                   np.where((market2[<span class="st">'public_toilet'</span>] <span class="op">==</span> <span class="st">'N'</span>) <span class="op">&amp;</span> (market2[<span class="st">'public_toilet'</span>] <span class="op">==</span> <span class="st">'N'</span>) , <span class="st">'low'</span>, <span class="st">'intermediate'</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="dcafbbb7" class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 확인 절차</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>market2.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="102ecfdf" class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 그래프 그리기</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="co"># x축을 편의 시설 레벨</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a>sns.countplot(data <span class="op">=</span> market2, x <span class="op">=</span> <span class="st">'level'</span>, hue <span class="op">=</span> <span class="st">'level'</span>)</span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a><span class="co"># 그래프 그리기 위한 df 생성</span></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="co"># 시장 유형와 규모 크기에 따른 그룹화 / 규모 크기 갯수 추가</span></span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> market2.groupby([<span class="st">"type"</span>, <span class="st">"market_scale"</span>], as_index <span class="op">=</span> <span class="va">False</span>) <span class="op">\</span></span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>            .agg(market_count <span class="op">=</span> (<span class="st">"market_scale"</span>, <span class="st">"count"</span>))</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a><span class="co"># 규모 크기에 따른 내림차순</span></span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>df.sort_values(<span class="st">'market_count'</span>, ascending <span class="op">=</span> <span class="va">False</span>)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a><span class="co"># 만든 df를 x축에 시장 유형, y축은 규모 크기에 따른 점포 갯수</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>sns.barplot(data <span class="op">=</span> df, x <span class="op">=</span> <span class="st">'type'</span>, y <span class="op">=</span> <span class="st">'market_count'</span>, hue <span class="op">=</span> <span class="st">'market_scale'</span>)</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="c3f0ab04" class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>plt.clf()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="06d8b2f9" class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>market2[<span class="st">'region'</span>] <span class="op">=</span> market2[<span class="st">'adress_road'</span>].<span class="bu">str</span>.split().<span class="bu">str</span>[<span class="dv">0</span>]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>market2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>